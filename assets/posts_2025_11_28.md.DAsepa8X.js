import{_ as i,c as a,o as n,a7 as e}from"./chunks/framework.BK-5gBo2.js";const c=JSON.parse('{"title":"TypeScript サブタイプとスーパータイプ","description":"サブタイプとスーパータイプ","frontmatter":{"date":"2025-11-28T00:00:00.000Z","title":"TypeScript サブタイプとスーパータイプ","description":"サブタイプとスーパータイプ","tags":["TypeScript"],"prev":{"text":"TypeScript インターフェイス","link":"/posts/2025/11/26"},"next":{"text":"TypeScript トップ型とボトム型","link":"/posts/2025/11/29"}},"headers":[],"relativePath":"posts/2025/11/28.md","filePath":"posts/2025/11/28.md"}'),p={name:"posts/2025/11/28.md"};function t(l,s,h,k,d,r){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="typescript-サブタイプとスーパータイプ" tabindex="-1">TypeScript サブタイプとスーパータイプ <a class="header-anchor" href="#typescript-サブタイプとスーパータイプ" aria-label="Permalink to &quot;TypeScript サブタイプとスーパータイプ&quot;">​</a></h1><p> <code>TypeScript</code>の型同士の関係には、<strong>サブタイプ</strong>(subtype)と<strong>スーパータイプ</strong>(supertype)という概念がある。</p><p> 型Aと型Bが存在し、型Aの代わりに型Bを使用することができるとき(型Aが求められる文脈で型Bが使用できるとき)、型Bをサブタイプ、型Aをスーパータイプと呼ぶ。一般的に、サブタイプとスーパータイプの関係は記号<code>&lt;:</code>を用いて、「サブタイプ &lt;: スーパータイプ」と表現する。この表記法に従えば、型Bと型Aの関係は<code>B&lt;:A</code>と表現できる。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-W-pCc" id="tab-BYlZikg" checked><label data-title="index.ts" for="tab-BYlZikg">index.ts</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 変数はvalは型推論により string 型になる</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> val</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;10&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// number | string 型が求められる変数に string 型の変数を代入</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> val </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OK</span></span></code></pre></div></div></div><p> 上記の例では、変数<code>age</code>は<code>number | string</code>型が指定されているが、代わりに<code>string</code>型の変数を代入している。この操作は許可される。この場合、<code>string</code>型は<code>number | string</code>型のサブタイプで、逆に<code>number | string</code>型は<code>string</code>型のスーパータイプ。</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-HfBqY" id="tab-_3m79fp" checked><label data-title="index.ts" for="tab-_3m79fp">index.ts</label></div><div class="blocks"><div class="language-ts vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Name型のサブタイプ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NameAndAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// nameだけを出力する関数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> logName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(person.name)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// nameとageを出力する関数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> logNameAndAge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NameAndAge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(person.name, person.age)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> personOnlyName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> personAndAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NameAndAge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, age: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OK</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">logName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(personAndAge)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// NG</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// logNameAndAge(personOnlyName)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 型 &#39;Name&#39; の引数を型 &#39;NameAndAge&#39; のパラメーターに割り当てることはできません。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// プロパティ &#39;age&#39; は型 &#39;Name&#39; にありませんが、型 &#39;NameAndAge&#39; では必須です。</span></span></code></pre></div></div></div><p> 上記の例では、関数<code>logName</code>は<code>Name</code>型のオブジェクトを引数にとり、<code>logNameAndAge</code>は<code>NameAndAge</code>型のオブジェクトを引数にとる。</p><p> <code>logName</code>関数に<code>NameAndAge</code>型のオブジェクトを渡すとことができるのは、<code>NameAndAge</code>型が<code>Name</code>型のサブタイプであるため(NameAndAge&lt;:Name の関係)。この場合、<code>logName</code>関数は<code>name</code>プロパティのみを使用しているため、追加の<code>age</code>プロパティがあっても問題ない。</p><p> 一方で、<code>logNameAndAge</code>関数に<code>Name</code>型のオブジェクトを渡すことはできない。これは<code>Name</code>型が<code>age</code>プロパティを持てないため、<code>NameAndAge</code>型のスーパータイプとみなされず、必要なプロパティが不足しているため。</p><p> 部分集合に属するすべての要素は、その上位集合にも属する。すなわち、サブタイプに含まれるすべての値はスーパータイプの値として代わりに使用できるとということが理解できる。</p>`,10)])])}const o=i(p,[["render",t]]);export{c as __pageData,o as default};
