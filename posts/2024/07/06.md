---
date: 2024-07-30
title: Hono Best Practices
description: Hono Best Practices
tags: 
    - Hono
prev:
    text: Hono OpenAPI
    link: /posts/2024/07/05
next:
    text: Bun Workspaces
    link: /posts/2024/07/07
---

# Hono Best Practices
* [Best Practices](https://hono.dev/docs/guides/best-practices)

&emsp;å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¦å‰‡ã«å¾“ã„å®Ÿè¡Œã™ã‚‹ã€‚

&emsp;`Ruby on Rails`ãƒ¢ãƒ‡ãƒ«ã®ã‚ˆã†ãªã€ãƒ‘ã‚¹ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¿ãŸã„ã«ã‚ã‘ã¦ã—ã¾ã†æ›¸ãæ–¹ã¯é¿ã‘ã‚‹ã€‚
```ts
// ðŸ™
// A RoR-like Controller
const booksList = (c: Context) => {
  return c.json('list books')
}

app.get('/books', booksList)
```
&emsp;è¤‡é›‘ãªã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚’è¨˜è¿°ã—ãªã„ã¨ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æŽ¨è«–ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚
```ts
// ðŸ™
// A RoR-like Controller
const bookPermalink = (c: Context) => {
  const id = c.req.param('id') // Can't infer the path param
  return c.json(`get ${id}`)
}
```
&emsp;åž‹ã‚’æŽ¨è«–ã•ã›ã‚‹ãŸã‚ã«ã¯ã€ãƒ‘ã‚¹å®šç¾©ã®ç›´å¾Œã«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
```ts
// ðŸ˜ƒ
app.get('/books/:id', (c) => {
  const id = c.req.param('id') // Can infer the path param
  return c.json(`get ${id}`)
})
```

&emsp;å…¬å¼ã®Best Practicesã‚’å‚è€ƒã«æ›¸ã„ã¦ã„ãã€‚

## Directory Structure
```
.
`-- hono
    |-- src
    |   |-- handler
    |   |   |-- authors.ts
    |   |   `-- books.ts
    |   `-- index.ts
    `-- tsconfig.json
```

## Handler
&emsp;ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã«ã‚ˆã‚‹å‡¦ç†ã‚’è¨˜è¿°ã€‚`***_handler.ts`ã®ã‚ˆã†ãªå‘½åã‚’å¥½ã‚€æ–¹ã‚‚ã„ã‚Œã°ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§åŒºåˆ‡ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ã§è‰¯ã„ã¨ã„ã†äººã‚‚ã„ã‚‹ã¨æ€ã†ã€‚

::: code-group
```ts [hono/src/index.ts]
// index.ts
import { Hono } from 'hono'
import authors from './handler/authors'
import books from './handler/books'

const app = new Hono()

app.route('/authors', authors)
app.route('/books', books)

export default app
```

```ts [hono/src/handler/authors.ts]
// authors.ts
import { Hono } from 'hono'

const app = new Hono()

app.get('/', (c) => c.json('list authors'))
app.post('/', (c) => c.json('create an author', 201))
app.get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```

```ts [hono/src/handler/books.ts]
// books.ts
import { Hono } from 'hono'

const app = new Hono()

app.get('/', (c) => c.json('list books'))
app.post('/', (c) => c.json('create a book', 201))
app.get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```
:::

## App
&emsp;å¤§ããªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹éš›ã«ã¯ã€`app.route()`ã§ã®ãƒ‘ã‚¹ãƒžã‚¦ãƒ³ãƒˆãŒæŽ¨å¥¨ã•ã‚Œã¦ã„ã‚‹ã€‚

* [Building a larger application](https://hono.dev/docs/guides/best-practices#building-a-larger-application)

::: code-group
```ts [hono/src/index.ts]
// index.ts
import { Hono } from 'hono'
import authors from './handler/authors'
import books from './handler/books'

const app = new Hono()

app.route('/authors', authors)
app.route('/books', books)

export default app
```
:::

# Other

## Change Base path

* [Base path](https://hono.dev/docs/api/routing#base-path)

&emsp;ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ã¯ã€å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã€‚
::: code-group
```ts [hono/src/index.ts]
// index.ts
import { Hono } from 'hono'
import authors from './handler/authors'
import books from './handler/books'

const app = new Hono().basePath('/api')

app.route('/authors', authors)
app.route('/books', books)

export default app
```
:::

## Chained route

* [Chained route](https://hono.dev/docs/api/routing#chained-route)

::: code-group
```ts [hono/src/index.ts]
// index.ts
import { Hono } from 'hono'
import authors from './handler/authors'
import books from './handler/books'

const app = new Hono().basePath('/api')

app.route('/authors', authors).route('/books', books)

export default app
```

```ts [hono/src/handler/authors.ts]
// authors.ts
import { Hono } from 'hono'

const app = new Hono()

app
  .get('/', (c) => c.json('list authors'))
  .post('/', (c) => c.json('create an author', 201))
  .get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```

```ts [hono/src/handler/books.ts]
// books.ts
import { Hono } from 'hono'

const app = new Hono()

app
  .get('/', (c) => c.json('list books'))
  .post('/', (c) => c.json('create a book', 201))
  .get('/:id', (c) => c.json(`get ${c.req.param('id')}`))

export default app
```
:::